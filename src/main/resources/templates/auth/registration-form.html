<!DOCTYPE html>
<html
  lang="es"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{fragments/layout}"
>
  <head>
    <title>Registro de Empleador | DomesticWork</title>
    <link rel="stylesheet" th:href="@{/css/auth.css}" />
  </head>

  <body>
    <div layout:fragment="content">
      <section class="register-container">
        <div class="container">
          <div class="register-card fade-in">
            <!-- Header -->
            <div class="register-header">
              <div class="register-logo">
                <i class="bi bi-person-plus-fill"></i>
              </div>
              <h1 class="register-title">Crear Cuenta</h1>
              <p class="register-subtitle">
                Completá tus datos para registrarte como empleador
              </p>
            </div>

            <!-- Registration Form -->
            <form
              th:action="@{/register/processRegistrationForm}"
              method="post"
              th:object="${registerEmployerDto}"
            >
              <!-- Personal Information Section -->
              <div class="form-section">
                <div class="form-section-header">
                  <div class="form-section-icon">
                    <i class="bi bi-person-fill"></i>
                  </div>
                  <h4 class="form-section-title">Datos Personales</h4>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="firstName" class="form-label">
                        Nombre <span class="required">*</span>
                      </label>
                      <input
                        type="text"
                        th:field="*{firstName}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('firstName')} ? 'is-invalid'"
                        placeholder="Tu nombre"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('firstName')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{firstName}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="lastName" class="form-label">
                        Apellido <span class="required">*</span>
                      </label>
                      <input
                        type="text"
                        th:field="*{lastName}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('lastName')} ? 'is-invalid'"
                        placeholder="Tu apellido"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('lastName')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{lastName}"></span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="email" class="form-label">
                        Correo Electrónico <span class="required">*</span>
                      </label>
                      <input
                        type="email"
                        th:field="*{email}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('email')} ? 'is-invalid'"
                        placeholder="correo@ejemplo.com"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('email')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{email}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="phone" class="form-label">Teléfono</label>
                      <input
                        type="text"
                        th:field="*{phone}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('phone')} ? 'is-invalid'"
                        placeholder="+54 9 11 1234-5678"
                      />
                      <div
                        th:if="${#fields.hasErrors('phone')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{phone}"></span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="identificationNumber" class="form-label">
                        CUIL <span class="required">*</span>
                      </label>
                      <input
                        type="text"
                        th:field="*{identificationNumber}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('identificationNumber')} ? 'is-invalid'"
                        placeholder="20-12345678-9"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('identificationNumber')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{identificationNumber}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="birthDate" class="form-label">
                        Fecha de Nacimiento <span class="required">*</span>
                      </label>
                      <input
                        type="date"
                        th:field="*{birthDate}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('birthDate')} ? 'is-invalid'"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('birthDate')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{birthDate}"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Security Section -->
              <div class="form-section">
                <div class="form-section-header">
                  <div class="form-section-icon">
                    <i class="bi bi-shield-lock-fill"></i>
                  </div>
                  <h4 class="form-section-title">Seguridad</h4>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="password" class="form-label">
                        Contraseña <span class="required">*</span>
                      </label>
                      <input
                        type="password"
                        th:field="*{password}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('password')} ? 'is-invalid'"
                        placeholder="••••••••"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('password')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{password}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="repeatPassword" class="form-label">
                        Repetir Contraseña <span class="required">*</span>
                      </label>
                      <input
                        type="password"
                        th:field="*{repeatPassword}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('repeatPassword')} ? 'is-invalid'"
                        placeholder="••••••••"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('repeatPassword')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{repeatPassword}"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Address Section -->
              <div class="form-section">
                <div class="form-section-header">
                  <div class="form-section-icon">
                    <i class="bi bi-geo-alt-fill"></i>
                  </div>
                  <h4 class="form-section-title">Dirección</h4>
                </div>

                <div class="row">
                  <div class="col-md-8">
                    <div class="form-group">
                      <label for="street" class="form-label">
                        Calle <span class="required">*</span>
                      </label>
                      <input
                        type="text"
                        th:field="*{street}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('street')} ? 'is-invalid'"
                        placeholder="Nombre de la calle"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('street')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{street}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-group">
                      <label for="number" class="form-label">
                        Número <span class="required">*</span>
                      </label>
                      <input
                        type="text"
                        th:field="*{number}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('number')} ? 'is-invalid'"
                        placeholder="1234"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('number')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{number}"></span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <label for="apartment" class="form-label">
                        Departamento
                      </label>
                      <input
                        type="text"
                        th:field="*{apartment}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('apartment')} ? 'is-invalid'"
                        placeholder="5A (opcional)"
                      />
                      <div
                        th:if="${#fields.hasErrors('apartment')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{apartment}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-group">
                      <label for="country" class="form-label">
                        País <span class="required">*</span>
                      </label>
                      <select
                        th:field="*{country}"
                        class="form-select"
                        th:classappend="${#fields.hasErrors('country')} ? 'is-invalid'"
                        id="country"
                        required
                      >
                        <option value="">-- Seleccione --</option>
                      </select>
                      <div
                        th:if="${#fields.hasErrors('country')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{country}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-group">
                      <label for="state" class="form-label">
                        Provincia <span class="required">*</span>
                      </label>
                      <select
                        th:field="*{state}"
                        class="form-select"
                        th:classappend="${#fields.hasErrors('state')} ? 'is-invalid'"
                        id="state"
                        required
                      >
                        <option value="">-- Seleccione --</option>
                      </select>
                      <div
                        th:if="${#fields.hasErrors('state')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{state}"></span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="city" class="form-label">
                        Localidad <span class="required">*</span>
                      </label>
                      <input
                        type="text"
                        th:field="*{city}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('city')} ? 'is-invalid'"
                        placeholder="Ciudad o localidad"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('city')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{city}"></span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="postalCode" class="form-label">
                        Código Postal <span class="required">*</span>
                      </label>
                      <input
                        type="text"
                        th:field="*{postalCode}"
                        class="form-control"
                        th:classappend="${#fields.hasErrors('postalCode')} ? 'is-invalid'"
                        placeholder="1234"
                        required
                      />
                      <div
                        th:if="${#fields.hasErrors('postalCode')}"
                        class="field-error"
                      >
                        <i class="bi bi-exclamation-circle-fill"></i>
                        <span th:errors="*{postalCode}"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Submit Section -->
              <div class="register-actions">
                <button type="submit" class="btn btn-primary btn-register">
                  <i class="bi bi-person-check-fill me-2"></i>
                  Crear mi Cuenta
                </button>

                <div class="register-login">
                  <p class="mb-0">
                    ¿Ya tenés una cuenta?
                    <a th:href="@{/loginPage}">Iniciá sesión aquí</a>
                  </p>
                </div>
              </div>
            </form>
          </div>
        </div>
      </section>
    </div>

    <script th:src="@{/js/forms.js}" layout:fragment="scripts"></script>
  </body>
</html>
