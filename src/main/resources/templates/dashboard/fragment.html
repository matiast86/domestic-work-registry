<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <!-- Employer Contracts -->
    <div th:fragment="employerContracts">
      <h4>Contratos como Empleador</h4>

      <!-- Empty state -->
      <div
        th:if="${#lists.isEmpty(contracts)}"
        class="alert alert-info d-flex justify-content-between align-items-center"
      >
        <span>No tienes contratos activos como empleador.</span>
        <a th:href="@{/contracts/contractForm}" class="btn btn-sm btn-primary">
          Crear contrato
        </a>
      </div>

      <!-- Table only if contracts exist -->
      <table class="table table-striped" th:if="${!#lists.isEmpty(contracts)}">
        <thead>
          <tr>
            <th>Empleado</th>
            <th>Tipo de Empleo</th>
            <th>Salario</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="contract : ${contracts}">
            <td
              th:text="${contract.employee.firstName + ' ' + contract.employee.lastName}"
            ></td>
            <td th:text="${contract.employmentType}"></td>
            <td
              th:text="${#numbers.formatDecimal(contract.salary, 1, 'COMMA', 2, 'POINT')}"
            ></td>
          </tr>
        </tbody>
      </table>

      <!-- Secondary CTA below table -->
      <div th:if="${!#lists.isEmpty(contracts)}" class="mt-2">
        <a
          th:href="@{/contracts/contractForm}"
          class="btn btn-sm btn-outline-primary"
        >
          Crear nuevo contrato
        </a>
      </div>
    </div>

    <!-- Employee Contracts -->
    <div th:fragment="employeeContracts">
      <h4>Contratos como Empleado</h4>

      <!-- Empty state -->
      <div th:if="${#lists.isEmpty(contracts)}" class="alert alert-info">
        No tienes contratos activos como empleado.
      </div>

      <!-- Table only if contracts exist -->
      <table class="table table-striped" th:if="${!#lists.isEmpty(contracts)}">
        <thead>
          <tr>
            <th>Empleador</th>
            <th>Tipo de Empleo</th>
            <th>Salario</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="contract : ${contracts}">
            <td
              th:text="${contract.employer.firstName + ' ' + contract.employer.lastName}"
            ></td>
            <td th:text="${contract.employmentType}"></td>
            <td
              th:text="${#numbers.formatDecimal(contract.salary, 1, 'COMMA', 2, 'POINT')}"
            ></td>
          </tr>
        </tbody>
      </table>
    </div>
    <script th:src="@{/js/dashboard.js}" layout:fragment="scripts"></script>
  </body>
</html>
